@using BlazorComponents.Client
@using BlazorComponents.Shared

<wc-substitution class="@_hoverClass"
                 ondragenter="@(e => OnSubstitutionDragEnter(e))"
                 ondragleave="@(e => OnSubstitutionDragLeave(e))">

    <PageDesignerDropTarget DesignNode=@DesignNode Dispatcher=@Dispatcher />

    <PageDesignerChildren DesignNodeCollection=@DesignNode.ChildNodes Dispatcher=@Dispatcher />

    <PageDesignerDropTarget DesignNode=@DesignNode Dispatcher=@Dispatcher />

</wc-substitution>

@functions {
    [Parameter]
    PreviewNode DesignNode { get; set; } // Demonstrates how a parent component can supply parameters

    [Parameter]
    PagePreviewEventsDispatcher Dispatcher { get; set; }

    private string _hoverClass = "";

    void OnSubstitutionDragEnter(UIDragEventArgs e)
    {
        _hoverClass="hover";
    }

    void OnSubstitutionDragLeave(UIDragEventArgs e)
    {
        _hoverClass="";
    }


}
