@using BlazorComponents.Client
@using BlazorComponents.Client.Shared.PageDesigner
@using BlazorComponents.Shared

<wc-substitution>
    
    <CascadingValue Value=@DesignNode Name="SubstitutionNode">
        <PageDesignerDropTarget />

        <PageDesignerChildren DesignNodeCollection=@DesignNode.ChildNodes />

        @if (DesignNode.ChildNodes.Any())
        {
            <PageDesignerDropTarget AfterDesignNode=@DesignNode.ChildNodes.Last()/>
        }
    </CascadingValue>
</wc-substitution>

@functions {
    [Parameter]
    PreviewNode DesignNode { get; set; } // Demonstrates how a parent component can supply parameters

    [CascadingParameter]
    protected PageDesignerPagePreview Dispatcher { get; set; }



}
